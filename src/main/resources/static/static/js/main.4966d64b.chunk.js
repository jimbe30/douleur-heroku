(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{269:function(e,n,t){e.exports=t(532)},357:function(e,n,t){},373:function(e,n,t){},374:function(e,n,t){},532:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(38),o=t.n(c),i=(t(274),t(254)),l=t(55),s=t(40),u=t(18),m=t(165),p=t(62),d=t.n(p),h=t(122),f=t(236),E=t.n(f),b={douleurs:"/ordonnances/"},v={GET_PRESCRIPTIONS:"GET_PRESCRIPTIONS",GET_ARBORESCENCE:"GET_ARBORESCENCE"};function g(){return(g=Object(h.a)(d.a.mark(function e(n){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(b.douleurs+n);case 2:t=e.sent,y(v.GET_PRESCRIPTIONS,t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(){return(O=Object(h.a)(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(b.douleurs);case 2:n=e.sent,y(v.GET_ARBORESCENCE,n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var C=function(){var e=Object(h.a)(d.a.mark(function e(n){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(n).then(function(e){return t=e.data});case 3:return e.abrupt("return",t);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(n){return e.apply(this,arguments)}}();var j=t(549),x=Object(u.b)({ordonnance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case v.GET_PRESCRIPTIONS:return Object(m.a)({},e,{prescriptions:n.content});case v.GET_ARBORESCENCE:return Object(m.a)({},e,{arborescence:n.content});default:return e}},form:j.a}),k=Object(u.c)(x);function y(e,n){k.dispatch({type:e,content:n})}t(357);var N=t(238);t(373);function P(){return r.a.createElement(N.slide,null,r.a.createElement("a",{className:"menu-item accueil",href:"/"},"Accueil"),r.a.createElement("a",{className:"menu-item ordonnance",href:"/douleurs"},"Ordonnance"),r.a.createElement("a",{className:"menu-item histo",href:"/historique"},"Historique"),r.a.createElement("a",{className:"menu-item lien",href:"/liens"},"Liens"))}var R=t(48),w=t(49),S=t(51),T=t(50),G=t(74),q=t(52),B=function(e){function n(e){var t;return Object(R.a)(this,n),(t=Object(S.a)(this,Object(T.a)(n).call(this,e))).onClick=t.onClick.bind(Object(G.a)(t)),t.state={actif:!1},t}return Object(q.a)(n,e),Object(w.a)(n,[{key:"onClick",value:function(e){this.state.actif?(e.target.className="noborder",this.setState({actif:!1})):(e.target.className="ui accordion styled",this.setState({actif:!0}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"noborder",onClick:this.onClick},this.props.message,r.a.createElement("br",null))}}]),n}(a.Component),D=t(116);var I=t(548),A=t(546),z=t(545),F=t(543);t(374);var _=function(e){var n=e.className,t=e.children,a=e.width,c=e.height,o=e.moreText,i=e.lessText,l=Object(D.a)(e,["className","children","width","height","moreText","lessText"]),s=r.a.createElement("style",null," ","\n            .truncated {\n                max-height: ".concat(c?c+";":"2rem;","\n                max-width: ").concat(a?a+";":"100%;","\n                width: ").concat(a?a+";":"100%;","\n                overflow: hidden;\n                text-overflow: ellipsis;\n            } \n            .expand, .trunc {\n                width: fit-content;\n                margin-left: auto;\n                margin-right: auto;\n            }\n            .expand::after, .trunc::after {\n                cursor: pointer;\n                color: #718293;\n                font-style: italic;\n            }\n            .expand::after {\n                content: '").concat(o||"\\0025BC","'; \n                font-size: ").concat(o?".5rem":"1rem",";\n            }         \n            .trunc::after {\n                content: '").concat(i||"\\0025B2","';\n                font-size: ").concat(i?".5rem":"1rem",";\n            }\n        ")),u=!0,m=function(e){u?(e.target.className="trunc",e.target.previousSibling.className=n||"",u=!1):(e.target.className="expand",e.target.previousSibling.className="".concat(n?n+" ":"","truncated"),u=!0)};return r.a.createElement(r.a.Fragment,null,s,r.a.createElement("div",Object.assign({className:"".concat(n?n+" ":"","truncated")},l),t),r.a.createElement("div",{onClick:m,className:"expand"}))};function M(e){var n=e.nomenclatures,t=e.history,a={float:"right",maxWidth:"100%",marginTop:"-40px",marginBottom:"5px",marginRight:"2%"},c=function(e){var n,c=e.libelle,o=e.infosGenerales,i=e.idDouleur,l=[{title:c,content:{content:(n=o)?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{style:a,onClick:function(){return t.push("/douleurs/".concat(i))}},"Faire l'ordonnance"),r.a.createElement(_,{height:"6rem",moreText:"\u25bc ( voir plus ... )",lessText:"\u25b2 ( r\xe9duire ... )"},r.a.createElement("pre",{className:"infosBase"},n))):""}}];return r.a.createElement(F.a,{styled:!0,panels:l})},o=function e(n){var t=n.libelle,a=n.nomenclaturesEnfants,o=[{title:t,content:{}}];if(a&&Array.isArray(a)){var i=a.map(function(n){var t=n.libelle,a=n.infosGenerales,o=n.id;return n.nomenclaturesEnfants&&n.nomenclaturesEnfants.length>0?r.a.createElement(e,{libelle:t,nomenclaturesEnfants:n.nomenclaturesEnfants}):r.a.createElement(c,{libelle:t,infosGenerales:a,idDouleur:o})}),l=r.a.createElement("div",null,i);o[0].content={content:l}}return r.a.createElement(F.a,{styled:!0,panels:o})};return r.a.createElement(function(e){var n=e.nomenclatures;return r.a.createElement("div",null,n&&n.map(function(e){return r.a.createElement(o,{libelle:e.libelle,nomenclaturesEnfants:e.nomenclaturesEnfants})}))},{nomenclatures:n})}var V=function(e){function n(){return Object(R.a)(this,n),Object(S.a)(this,Object(T.a)(n).apply(this,arguments))}return Object(q.a)(n,e),Object(w.a)(n,[{key:"componentDidMount",value:function(){!function(){O.apply(this,arguments)}()}},{key:"render",value:function(){return r.a.createElement(M,this.props)}}]),n}(a.Component),J=Object(s.b)(function(e){return{nomenclatures:e.ordonnance.arborescence}})(V),H=t(544),L=t(539),Q=t(121);function W(e){var n=e.prescriptions,t=e.prescriptionChoisie,c=e.clickOrdonnance,o=function(){var e=null;return t?e=t.nomenclatureDouleur:n&&n.length>0&&(e=n[0].nomenclatureDouleur),e?{libelle:e.libelle,infos:e.infosGenerales,recommandations:e.recommandations}:{}};o=o();var i=n&&n.length>0?n.length:0,l=function(){return t?r.a.createElement(H.a,{info:!0},"Vous avez choisi l'ordonnance ci-dessous"):0===i?r.a.createElement(H.a,{warning:!0},"Aucune ordonnance n'est encore propos\xe9e pour cette douleur"):r.a.createElement(H.a,{info:!0}," ".concat(i," ordonnance").concat(i>1?"s vous sont propos\xe9es":" vous est propos\xe9e"," "),r.a.createElement("br",null),"Cliquez sur l'ordonnance de votre choix")};l=l();var s=!t&&o.recommandations&&o.recommandations.length>0?r.a.createElement(H.a,{warning:!0,className:"infosBase"},r.a.createElement(L.a,{horizontal:!0,fitted:!0},r.a.createElement(I.a,{as:"h4"},"Remarques")),o.recommandations):"",u=function(e){if(e.medicamentsPreconises.length>0)return r.a.createElement("div",{className:"infosBase"}," ",e.medicamentsPreconises.map(function(e){return r.a.createElement("p",null,e.description.split(" ; ").map(function(e){return e+"\r\n"}))}))};return r.a.createElement("div",null,r.a.createElement("h3",null,o.libelle),l,t?r.a.createElement(a.Fragment,null,u(t),r.a.createElement(L.a,null)):i>0?n.map(function(e,n){return r.a.createElement(a.Fragment,null,r.a.createElement(Q.a,{as:"a",onClick:function(){return c(n)}},"Ordonnance ",n+1),u(e),r.a.createElement(L.a,null))}):void 0,s)}var K=t(542),U=t(541),X=t(540),Y=function(e){return r.a.createElement(X.a.Checkbox,{checked:!!e.input.value,name:e.input.name,label:e.label,onChange:function(n,t){var a=t.checked;return e.input.onChange(a)}})},Z=function(e){return r.a.createElement(X.a.Select,{label:e.label,name:e.input.name,onChange:function(n,t){var a=t.value;return e.input.onChange(a)},options:e.options,placeholder:e.placeholder,value:e.input.value})},$=function(e){return r.a.createElement(X.a.TextArea,Object.assign({},e.input,{label:e.label,placeholder:e.placeholder}))};function ee(e){this.medicamentsPreconises=e?e.medicamentsPreconises:[],this.nbMedicaments=this.medicamentsPreconises.length,this.getProduits=function(e){return this.medicamentsPreconises[e]&&this.medicamentsPreconises[e].compatibilites?this.medicamentsPreconises[e].compatibilites.map(function(e){return e.produit}):null},this.getDesignationsProduits=function(e){var n=this.getProduits(e);return n?n.map(function(e){return e.designation}):null}}var ne=function(e){function n(e){var t;return Object(R.a)(this,n),(t=Object(S.a)(this,Object(T.a)(n).call(this,e))).prescriptionChoisie=new ee(e.ordonnance),t.state={medicaments:t.getMedicaments()},t}return Object(q.a)(n,e),Object(w.a)(n,[{key:"getMedicaments",value:function(){var e=this;return this.prescriptionChoisie.medicamentsPreconises.map(function(n,t){return e.prescriptionChoisie.getDesignationsProduits(t).join(" + ")})}},{key:"formulaireMedicament",value:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:"1rem 0"}},r.a.createElement(Q.a,null,this.state.medicaments[e])),r.a.createElement("input",{name:"medicament"+e,type:"hidden",index:e,value:this.state.medicaments[e]}),r.a.createElement(X.a.Group,null,r.a.createElement(K.a,{component:X.a.Input,label:"Dosage",name:"dosage"+e,placeholder:"Dosage en mg",required:!0}),r.a.createElement(K.a,{component:X.a.Input,label:"Quantit\xe9 par prise",name:"quantite"+e,placeholder:"Nb comprim\xe9s",required:!0}),r.a.createElement(K.a,{component:Z,label:"Forme",name:"forme"+e,placeholder:"Comprim\xe9, G\xe9lule ...",options:[{key:"forme1",text:"Comprim\xe9",value:"comprim\xe9(s)"},{key:"forme2",text:"G\xe9lule",value:"g\xe9lule(s)"}]})),r.a.createElement(X.a.Group,null,r.a.createElement(K.a,{component:X.a.Input,label:"Fr\xe9quence",name:"frequence"+e,placeholder:"Nb fois par jour",required:!0}),r.a.createElement(K.a,{component:X.a.Input,label:"Dur\xe9e",name:"duree"+e,placeholder:"Nb de jours",required:!0})))}},{key:"getRecapitulatif",value:function(){var e=this;return this.state.medicaments.map(function(n,t){return r.a.createElement("div",null," ",(e.props["dosage"+t]?n+" "+e.props["dosage"+t]:"")+(e.props["quantite"+t]&&e.props["forme"+t]?", "+e.props["quantite"+t]+" "+e.props["forme"+t]:"")+(e.props["frequence"+t]?", "+e.props["frequence"+t]+" fois par jour":"")+(e.props["duree"+t]?" pendant "+e.props["duree"+t]+" jours":"")," ")})}},{key:"render",value:function(){var e=this;return r.a.createElement(X.a,{size:"small",onSubmit:this.props.handleSubmit},r.a.createElement(H.a,{info:!0},"Veuillez renseigner la posologie dans le formulaire ci-dessous"),this.prescriptionChoisie&&this.prescriptionChoisie.medicamentsPreconises.map(function(n,t){return e.formulaireMedicament(t)}),r.a.createElement(K.a,{component:$,label:"Recommandations",name:"recommandations",placeholder:"Effets ind\xe9sirables \xe0 surveiller, cas d'arr\xeat du traitement, ..."}),r.a.createElement(H.a,null,r.a.createElement(L.a,{horizontal:!0,fitted:!0},r.a.createElement(I.a,{as:"h5"},"R\xe9capitulatif")),this.getRecapitulatif()),r.a.createElement(K.a,{component:Y,label:"Je souhaite d\xe9livrer cette ordonnance",name:"isAgreed"}),r.a.createElement(X.a.Group,{inline:!0},r.a.createElement(X.a.Button,{primary:!0},"Valider"),r.a.createElement(X.a.Button,{onClick:this.props.reset},"Annuler")))}}]),n}(r.a.Component),te=Object(U.a)({form:"ordonnance"})(ne),ae=function(e){function n(e){var t;return Object(R.a)(this,n),(t=Object(S.a)(this,Object(T.a)(n).call(this,e))).onClickOrdonnance=function(e){t.setState({choixOrdonnance:e,prescriptionChoisie:t.props.prescriptions[e]}),console.log("Choix de l'ordonnance n\xb0 "+(e+1))},t.state={choixOrdonnance:null,prescriptionChoisie:null},t.onClickOrdonnance.bind(Object(G.a)(t)),t}return Object(q.a)(n,e),Object(w.a)(n,[{key:"getRouteParams",value:function(){return this.props.match?this.props.match.params:{}}},{key:"componentDidMount",value:function(){!function(e){g.apply(this,arguments)}(this.getRouteParams().idDouleur)}},{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(W,{clickOrdonnance:this.onClickOrdonnance,prescriptionChoisie:this.state.prescriptionChoisie,prescriptions:this.props.prescriptions}),this.state.prescriptionChoisie&&r.a.createElement(te,Object.assign({onSubmit:function(){return console.log("Formulaire ordonance soumis")},ordonnance:this.state.prescriptionChoisie},this.props.formValues)))}}]),n}(a.Component),re=Object(s.b)(function(e){return{prescriptions:e.ordonnance.prescriptions,formValues:e.form.ordonnance?e.form.ordonnance.values:{}}})(ae);o.a.render(r.a.createElement(function(){var e=r.a.createElement("div",null,r.a.createElement("h5",null,r.a.createElement("p",null,"Bienvenue dans l'application incontournable pour g\xe9rer la douleur de vos patients"),r.a.createElement("p",null,"Cliquez sur le menu en haut \xe0 gauche et s\xe9lectionnez votre choix")));return r.a.createElement(s.a,{store:k},r.a.createElement(i.a,null,r.a.createElement(P,null),r.a.createElement(I.a,{as:"h2",color:"grey",textAlign:"center",inverted:!0,dividing:!0},r.a.createElement("span",null," Pain Control Pro ")),r.a.createElement(A.a,{className:"center"},r.a.createElement(l.a,{exact:!0,path:"/",render:function(n){return r.a.createElement(B,Object.assign({},n,{message:e}))}}),r.a.createElement(l.a,{exact:!0,path:"/douleurs",component:J}),r.a.createElement(l.a,{exact:!0,path:"/douleurs/:idDouleur",component:re}))))},null),document.getElementById("react-app"))}},[[269,1,2]]]);
//# sourceMappingURL=main.4966d64b.chunk.js.map